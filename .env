# --- Конфигурация LLM/Embedding (OpenAI-compatible) ---
#
# По умолчанию: OpenRouter (DeepSeek для генерации + Qwen для embedding).
# Быстрое переключение на локальную Ollama:
# - поменяйте LLM_BASE_URL/EMBEDDING_BASE_URL на http://ollama:11434/v1
# - LLM_API_KEY/EMBEDDING_API_KEY установите в "ollama"
# - замените модели на доступные в Ollama
# - запустите ollama (и при необходимости GPU override compose)
#
# ВАЖНО:
# - base_url должен заканчиваться на /v1 (как у OpenAI API)
# - для OpenRouter ключ должен быть валидным
#
# --- Вариант 1 (по умолчанию): OpenRouter ---
LLM_MODEL=d-glm
LLM_BASE_URL=https://gpt.mwsapis.ru/projects/agirag/openai/v1
LLM_API_KEY=

# Embedding (векторизация)
EMBEDDING_MODEL=d-bge
EMBEDDING_BASE_URL=https://gpt.mwsapis.ru/projects/agirag/openai/v1
EMBEDDING_API_KEY=
# Для некоторых библиотек нужно явно задавать размерность embedding.
# qwen/qwen3-embedding-8b -> 1024
EMBEDDING_DIM=1024

# --- Вариант 2: Локальная Ollama (раскомментируйте для переключения) ---
# LLM_MODEL=llama3
# LLM_BASE_URL=http://ollama:11434/v1
# LLM_API_KEY=ollama
#
# EMBEDDING_MODEL=nomic-embed-text
# EMBEDDING_BASE_URL=http://ollama:11434/v1
# EMBEDDING_API_KEY=ollama
# EMBEDDING_DIM=768

# --- Внутренние URL сервисов (для стабильных n8n workflow) ---
DOCLING_URL=http://docling:8000
LIGHTRAG_URL=http://lightrag:8000
QDRANT_URL=http://qdrant:6333

# --- Общая база данных (Postgres) ---
POSTGRES_USER=postgres
POSTGRES_PASSWORD=secure_password
POSTGRES_DB=postgres
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Логические БД (создаются init-скриптом при первом старте)
N8N_DB_NAME=n8n
FLOWISE_DB_NAME=flowise
LANGFUSE_DB_NAME=langfuse
MLFLOW_DB_NAME=mlflow

# --- Qdrant (Векторная БД) ---
QDRANT_API_KEY=qdrant_secure_api_key
QDRANT_HOST=qdrant

# --- Langfuse ---
LANGFUSE_INIT_ORG_ID=00000000-0000-0000-0000-000000000000
LANGFUSE_INIT_PROJECT_ID=00000000-0000-0000-0000-000000000000
LANGFUSE_INIT_USER_EMAIL=admin@example.com
LANGFUSE_INIT_USER_PASSWORD=secure_password
LANGFUSE_SALT=auto_generated_salt
LANGFUSE_ENCRYPTION_KEY=auto_generated_encryption_key_must_be_64_hex_chars_00000000
NEXTAUTH_SECRET=auto_generated_nextauth_secret
NEXTAUTH_URL=http://localhost:3000

# --- n8n ---
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=secure_password
N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http
WEBHOOK_URL=http://localhost:5678/
N8N_ENCRYPTION_KEY=n8n_encryption_key

# --- Flowise ---
FLOWISE_USERNAME=admin
FLOWISE_PASSWORD=secure_password

# --- Grafana ---
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=secure_password

# --- MLflow ---
MLFLOW_AUTH_ENABLED=false
